(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layers"],{"2e64":function(t,e){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"56d7":function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o}));var i=n("96f1"),o=function t(e){t.installed||(t.installed=!0,e.component("vue-drag-move",i["a"]))},r={install:o},s=function(){return"undefined"!==typeof window?window.Vue:"undefined"!==typeof t?t.Vue:null}();s&&s.use(r),e["a"]=i["a"]}).call(this,n("c8ba"))},"96f1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-drag-move-wrapper",style:{top:t.top,left:t.left,position:"absolute"},on:{mousedown:t.handleStartDrag,touchstart:t.handleStartDrag}},[t._t("default")],2)},o=[];function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var c=function(){function t(){r(this,t),this._prevY=0,this._prevX=0,this._isDragging=!1}return a(t,[{key:"prevY",set:function(t){this._prevY=parseInt(t,10)},get:function(){return this._prevY}},{key:"prevX",set:function(t){this._prevX=parseInt(t,10)},get:function(){return this._prevX}},{key:"isDragging",set:function(t){this._isDragging=!!t},get:function(){return this._isDragging}}]),t}(),u=new(function(){function t(){r(this,t),this.defaultUserSelect="auto",this.defaultMozUserSelect="auto",this.defaultMsUserSelect="auto",this.defaultWebkitUserSelect="auto"}return a(t,[{key:"enable",value:function(){this.defaultUserSelect=document.body.style.userSelect,this.defaultMozUserSelect=document.body.style.mozUserSelect,this.defaultMsUserSelect=document.body.style.msUserSelect,this.defaultWebkitUserSelect=document.body.style.webkitUserSelect,document.body.style.userSelect="none",document.body.style.mozUserSelect="none",document.body.style.msUserSelect="none",document.body.style.webkitUserSelect="none"}},{key:"disable",value:function(){document.body.style.userSelect=this.defaultUserSelect,document.body.style.mozUserSelect=this.defaultMozUserSelect,document.body.style.msUserSelect=this.defaultMsUserSelect,document.body.style.webkitUserSelect=this.defaultWebkitUserSelect}}]),t}()),l={data:function(){return{x:0,y:0,position:new c}},computed:{top:function(){return"".concat(this.y,"px")},left:function(){return"".concat(this.x,"px")}},created:function(){document.addEventListener("pointermove",this.handleDoDrag.bind(this)),document.addEventListener("mouseup",this.handleStopDrag.bind(this)),document.addEventListener("touchend",this.handleStopDrag.bind(this))},methods:{handleStartDrag:function(t){this.$emit("start",t),u.enable(),this.position.isDragging=!0,this.position.prevY=t.clientY,this.position.prevX=t.clientX},handleStopDrag:function(t){u.disable(),this.position.isDragging=!1,this.$emit("stop",t)},handleDoDrag:function(t){if(this.position.isDragging){this.$emit("dragging",t);var e=t.clientY-this.position.prevY,n=t.clientX-this.position.prevX;this.position.prevY=t.clientY,this.position.prevX=t.clientX,this.y+=e,this.x+=n}}},destroyed:function(){document.removeEventListener("pointermove",this.handleDoDrag.bind(this)),document.removeEventListener("mouseup",this.handleStopDrag.bind(this)),document.removeEventListener("touchend",this.handleStopDrag.bind(this))}},d=l;function f(t,e,n,i,o,r,s,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}var p=f(d,i,o,!1,null,null,null);e["a"]=p.exports},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(i){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var i;(n.r(e),n.d(e,"install",(function(){return o["b"]})),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));var o=n("56d7");e["default"]=o["a"]}})["default"]},"30dd":function(t,e,n){},"5e05":function(t,e,n){"use strict";n("ee3e")},"5f12":function(t,e,n){"use strict";n("30dd")},"77e9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"layers"},[n("div",{staticClass:"btns"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.addLayer(0)}}},[n("span",{staticClass:"material-icons"},[t._v("add")]),t._v(" Входной слой ")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.addLayer(1)}}},[n("span",{staticClass:"material-icons"},[t._v("add")]),t._v(" Внутренний слой ")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.addLayer(2)}}},[n("span",{staticClass:"material-icons"},[t._v("add")]),t._v(" Выходной слой ")])]),n("div",{staticClass:"interface"},t._l(t.layers,(function(e){var i;return n("my-layer",{key:e.name,class:(i={},i["type"+e.type]=!0,i),attrs:{name:e.name,type:e.type},on:{link:t.handleLink}})})),1),n("div",{staticClass:"line"})])},o=[],r=n("2f62"),s=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("VueDragMove",{staticClass:"layer",class:(t={},t["type"+e.type]=!0,t)},[i("button",[e._v(" "+e._s(e.name)+" "),i("span",{staticClass:"material-icons clear",on:{click:function(t){return e.$store.commit("delLayer",e.name)}}},[e._v("clear")]),i("span",{staticClass:"material-icons link",class:{"link-on":e.$store.state.linksOn},attrs:{name:e.name},on:{click:function(t){return e.$emit("link",t,{name:e.name,type:e.type})}}},[e._v("link")])])])},a=[],c=n("2e64"),u=n.n(c),l={name:"my-layer",props:["type","name"],data:function(){return{isLinking:!1}},components:{VueDragMove:u.a},methods:{handleLink:function(t,e){this.isLinking&&this.$store.commit("toggleLink"),this.$emit("link",$event,{name:name,type:type}),this.$store.commit("changeLinkPos",t),this.isLinking=!this.isLinking}},mounted:function(){console.log(this.$el)}},d=l,f=(n("5f12"),n("2877")),p=Object(f["a"])(d,s,a,!1,null,"1abd1524",null),h=p.exports,m={components:{MyLayer:h},methods:{addLayer:function(t){this.$store.commit("addLayer",t)},handleLink:function(t,e){this.$store.commit("toggleLink")}},computed:Object(r["d"])(["layers","links"])},y=m,v=(n("5e05"),Object(f["a"])(y,i,o,!1,null,"60ded491",null));e["default"]=v.exports},ee3e:function(t,e,n){}}]);